# See 06-contexts/README.md for more information
# about the how to use contexts in GitHub Actions.

name: 06 - Contexts
run-name: 06 - Contexts | DEBUG - ${{ inputs.debug }}

on:
  workflow_dispatch:
    inputs:
      debug:
        type: boolean
        default: false

env:
  MY_WORKFLOW_VAR: 'workflow'
  MY_OVERWRITTEN_VAR: 'workflow'

jobs:
  echo-data:
    runs-on: ubuntu-latest
    env:
      MY_JOB_VAR: 'job'
      MY_OVERWRITTEN_VAR: 'job'
    steps:
      - name: Display information
        run: |
          echo "action: ${{ github.action }}"
          echo "action_path: ${{ github.action_path }}"
          echo "action_ref: ${{ github.action_ref }}"
          echo "action_repository: ${{ github.action_repository }}"
          echo "action_status: ${{ github.action_status }}"
          echo "actor: ${{ github.actor }}"
          echo "actor_id: ${{ github.actor_id }}"
          echo "api_url: ${{ github.api_url }}"
          echo "base_ref: ${{ github.base_ref }}"
          echo "env: ${{ github.env }}"
          echo "event: ${{ github.event }}"
          echo "event_name: ${{ github.event_name }}"
          echo "event_path: ${{ github.event_path }}"
          echo "graphql_url: ${{ github.graphql_url }}"
          echo "head_ref: ${{ github.head_ref }}"
          echo "job: ${{ github.job }}"
          echo "path: ${{ github.path }}"
          echo "ref: ${{ github.ref }}"
          echo "ref_name: ${{ github.ref_name }}"
          echo "ref_protected: ${{ github.ref_protected }}"
          echo "ref_type: ${{ github.ref_type }}"
          echo "repository: ${{ github.repository }}"
          echo "repository_id: ${{ github.repository_id }}"
          echo "repository_owner: ${{ github.repository_owner }}"
          echo "repository_owner_id: ${{ github.repository_owner_id }}"
          echo "repositoryUrl: ${{ github.repositoryUrl }}"
          echo "retention_days: ${{ github.retention_days }}"
          echo "run_id: ${{ github.run_id }}"
          echo "run_number: ${{ github.run_number }}"
          echo "run_attempt: ${{ github.run_attempt }}"
          echo "secret_source: ${{ github.secret_source }}"
          echo "server_url: ${{ github.server_url }}"
          echo "sha: ${{ github.sha }}"
          echo "token: ${{ github.token }}"
          echo "triggering_actor: ${{ github.triggering_actor }}"
          echo "workflow: ${{ github.workflow }}"
          echo "workflow_ref: ${{ github.workflow_ref }}"
          echo "workflow_sha: ${{ github.workflow_sha }}"
          echo "workspace: ${{ github.workspace }}"

      - name: Retrieve Variable
        run: |
          echo "Variable value: ${{ vars.MY_VAR }}"
      - name: Print Env Variables
        env:
          MY_OVERWRITTEN_VAR: 'step'
        run: |
          echo "Workflow env: ${{ env.MY_WORKFLOW_VAR }}"
          echo "Overwritten env: ${{ env.MY_OVERWRITTEN_VAR }}"
      - name: Print Env Variables
        run: |
          echo "Workflow env: ${{ env.MY_WORKFLOW_VAR }}"
          echo "Overwritten env: ${{ env.MY_OVERWRITTEN_VAR }}"
  echo-data2:
    runs-on: ubuntu-latest
    steps:
      - name: Print Env Variables
        run: |
          echo "Workflow env: $MY_WORKFLOW_VAR"
          echo "Overwritten env: $MY_OVERWRITTEN_VAR"
